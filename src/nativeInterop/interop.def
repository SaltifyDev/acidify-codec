package = liblagrangecodec
headers = stdint.h

staticLibraries.mingw = libavformat.a libavcodec.a libavutil.a libswresample.a libswscale.a libzlib.a libLagrangeCodec.a
linkerOpts.mingw = -lstdc++ -lws2_32

staticLibraries.linux = libavformat.a libavcodec.a libavutil.a libswresample.a libswscale.a libz.a libLagrangeCodec.a
linkerOpts.linux = -lstdc++ -lm -ldl -lpthread

staticLibraries.osx = libavformat.a libavcodec.a libavutil.a libswresample.a libswscale.a libz.a libLagrangeCodec.a
linkerOpts.osx = -lc++

---
#include <stdint.h>

#ifdef __cplusplus
extern "C" {
#endif

typedef void (*cb_codec)(void* userdata, const uint8_t* p, int len);

typedef struct VideoInfo {
    int32_t width;
    int32_t height;
    int64_t duration;
} VideoInfo;

int audio_to_pcm(uint8_t* audio_data, int data_len, cb_codec callback, void* userdata);
int silk_decode(uint8_t* silk_data, int len, cb_codec callback, void* userdata);
int silk_encode(uint8_t* pcm_data, int len, cb_codec callback, void* userdata);

int video_first_frame(uint8_t* video_data, int data_len, uint8_t** out, int32_t* out_len);
int video_get_size(uint8_t* video_data, int data_len, VideoInfo* info);

#ifdef __cplusplus
}
#endif